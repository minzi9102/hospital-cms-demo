import{d as b,r as m,a as V,c as k,b as o,w as r,e as s,u as x,o as h,f as C,g as N,h as j,E as p,_ as B}from"./index-BwQo0H46.js";import"./request-Kr2qLYJT.js";const E=f=>(console.log("ğŸš€ [Demo Mode] æ‹¦æˆªç™»å½•è¯·æ±‚ï¼Œè¿”å›æ¨¡æ‹Ÿ Token"),Promise.resolve({data:{jwt:"demo-mock-token-123456",user:{id:1,username:"demo_user",email:"demo@hospital.com",provider:"local",confirmed:!0,blocked:!1}}})),F={class:"login-container"},I=b({__name:"index",setup(f){const _=x(),l=m(!1),t=V({identifier:"",password:""}),g={identifier:[{required:!0,message:"è¯·è¾“å…¥ç”¨æˆ·å",trigger:"blur"}],password:[{required:!0,message:"è¯·è¾“å…¥å¯†ç ",trigger:"blur"}]},n=m(),d=async()=>{n.value&&await n.value.validate(async u=>{if(u){l.value=!0;try{const e=await E(t);p.success("ç™»å½•æˆåŠŸ"),localStorage.setItem("jwt",e.data.jwt),localStorage.setItem("user",JSON.stringify(e.data.user)),_.push("/")}catch(e){console.error("Login Failed:",e);const a=e.response?.data?.error?.message||"ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–è´¦å·";p.error(a)}finally{l.value=!1}}})};return(u,e)=>{const a=s("el-input"),c=s("el-form-item"),w=s("el-button"),v=s("el-form"),y=s("el-card");return h(),k("div",F,[o(y,{class:"login-card"},{header:r(()=>[...e[2]||(e[2]=[j("h2",{class:"login-title"},"ğŸ¥ æ²»ç–—è®°å½•ç®¡ç†å¹³å°",-1)])]),default:r(()=>[o(v,{ref_key:"loginFormRef",ref:n,model:t,rules:g,"label-position":"top",onKeyup:C(d,["enter"])},{default:r(()=>[o(c,{label:"è´¦å· / é‚®ç®±",prop:"identifier"},{default:r(()=>[o(a,{modelValue:t.identifier,"onUpdate:modelValue":e[0]||(e[0]=i=>t.identifier=i),placeholder:"è¯·è¾“å…¥ç”¨æˆ·å"},null,8,["modelValue"])]),_:1}),o(c,{label:"å¯†ç ",prop:"password"},{default:r(()=>[o(a,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=i=>t.password=i),type:"password",placeholder:"è¯·è¾“å…¥å¯†ç ","show-password":""},null,8,["modelValue"])]),_:1}),o(w,{type:"primary",class:"login-btn",loading:l.value,onClick:d},{default:r(()=>[...e[3]||(e[3]=[N(" ç«‹å³ç™»å½• ",-1)])]),_:1},8,["loading"])]),_:1},8,["model"])]),_:1})])}}}),S=B(I,[["__scopeId","data-v-e297607f"]]);export{S as default};
