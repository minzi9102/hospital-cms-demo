import{d as v,r as p,a as y,c as b,b as o,w as a,e as s,u as V,o as x,f as h,g as k,h as C,E as N,_ as B}from"./index-bj9cng3a.js";import{s as E}from"./request-D34mkKY2.js";const I={class:"login-container"},R=v({__name:"index",setup(S){const m=V(),l=p(!1),t=y({identifier:"",password:""}),f={identifier:[{required:!0,message:"è¯·è¾“å…¥ç”¨æˆ·å",trigger:"blur"}],password:[{required:!0,message:"è¯·è¾“å…¥å¯†ç ",trigger:"blur"}]},r=p(),i=async()=>{r.value&&await r.value.validate(async d=>{if(d){l.value=!0;try{const e=await E.post("/auth/local",t);N.success("ç™»å½•æˆåŠŸ"),localStorage.setItem("jwt",e.data.jwt),localStorage.setItem("user",JSON.stringify(e.data.user)),m.push("/")}catch(e){console.error(e)}finally{l.value=!1}}})};return(d,e)=>{const u=s("el-input"),c=s("el-form-item"),_=s("el-button"),g=s("el-form"),w=s("el-card");return x(),b("div",I,[o(w,{class:"login-card"},{header:a(()=>[...e[2]||(e[2]=[C("h2",{class:"login-title"},"ğŸ¥ æ²»ç–—è®°å½•ç®¡ç†å¹³å°",-1)])]),default:a(()=>[o(g,{ref_key:"loginFormRef",ref:r,model:t,rules:f,"label-position":"top",onKeyup:h(i,["enter"])},{default:a(()=>[o(c,{label:"è´¦å· / é‚®ç®±",prop:"identifier"},{default:a(()=>[o(u,{modelValue:t.identifier,"onUpdate:modelValue":e[0]||(e[0]=n=>t.identifier=n),placeholder:"è¯·è¾“å…¥ç”¨æˆ·å"},null,8,["modelValue"])]),_:1}),o(c,{label:"å¯†ç ",prop:"password"},{default:a(()=>[o(u,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=n=>t.password=n),type:"password",placeholder:"è¯·è¾“å…¥å¯†ç ","show-password":""},null,8,["modelValue"])]),_:1}),o(_,{type:"primary",class:"login-btn",loading:l.value,onClick:i},{default:a(()=>[...e[3]||(e[3]=[k(" ç«‹å³ç™»å½• ",-1)])]),_:1},8,["loading"])]),_:1},8,["model"])]),_:1})])}}}),F=B(R,[["__scopeId","data-v-fc634adb"]]);export{F as default};
