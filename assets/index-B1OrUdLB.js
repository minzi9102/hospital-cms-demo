import{d as y,r as m,a as b,c as V,b as o,w as a,e as s,u as k,o as x,f as h,g as C,h as N,E as j,_ as B}from"./index-CEobTKSS.js";import"./request-C1PgLj7X.js";const E=p=>(console.log("ğŸš€ [Demo Mode] æ‹¦æˆªç™»å½•è¯·æ±‚ï¼Œè¿”å›æ¨¡æ‹Ÿ Token"),Promise.resolve({data:{jwt:"demo-mock-token-123456",user:{id:1,username:"demo_user",email:"demo@hospital.com",provider:"local",confirmed:!0,blocked:!1}}})),I={class:"login-container"},R=y({__name:"index",setup(p){const f=k(),r=m(!1),t=b({identifier:"",password:""}),_={identifier:[{required:!0,message:"è¯·è¾“å…¥ç”¨æˆ·å",trigger:"blur"}],password:[{required:!0,message:"è¯·è¾“å…¥å¯†ç ",trigger:"blur"}]},l=m(),i=async()=>{l.value&&await l.value.validate(async d=>{if(d){r.value=!0;try{const e=await E(t);j.success("ç™»å½•æˆåŠŸ"),localStorage.setItem("jwt",e.data.jwt),localStorage.setItem("user",JSON.stringify(e.data.user)),f.push("/")}catch(e){console.error(e)}finally{r.value=!1}}})};return(d,e)=>{const u=s("el-input"),c=s("el-form-item"),g=s("el-button"),w=s("el-form"),v=s("el-card");return x(),V("div",I,[o(v,{class:"login-card"},{header:a(()=>[...e[2]||(e[2]=[N("h2",{class:"login-title"},"ğŸ¥ æ²»ç–—è®°å½•ç®¡ç†å¹³å°",-1)])]),default:a(()=>[o(w,{ref_key:"loginFormRef",ref:l,model:t,rules:_,"label-position":"top",onKeyup:h(i,["enter"])},{default:a(()=>[o(c,{label:"è´¦å· / é‚®ç®±",prop:"identifier"},{default:a(()=>[o(u,{modelValue:t.identifier,"onUpdate:modelValue":e[0]||(e[0]=n=>t.identifier=n),placeholder:"è¯·è¾“å…¥ç”¨æˆ·å"},null,8,["modelValue"])]),_:1}),o(c,{label:"å¯†ç ",prop:"password"},{default:a(()=>[o(u,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=n=>t.password=n),type:"password",placeholder:"è¯·è¾“å…¥å¯†ç ","show-password":""},null,8,["modelValue"])]),_:1}),o(g,{type:"primary",class:"login-btn",loading:r.value,onClick:i},{default:a(()=>[...e[3]||(e[3]=[C(" ç«‹å³ç™»å½• ",-1)])]),_:1},8,["loading"])]),_:1},8,["model"])]),_:1})])}}}),F=B(R,[["__scopeId","data-v-aaef726e"]]);export{F as default};
